<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>iptables on Sebastian Korotkiewicz - Tech{{log}}</title><link>https://skorotkiewicz.github.io/tags/iptables/</link><description>Recent content in iptables on Sebastian Korotkiewicz - Tech{{log}}</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 01 Jan 2016 18:10:58 +0200</lastBuildDate><atom:link href="https://skorotkiewicz.github.io/tags/iptables/index.xml" rel="self" type="application/rss+xml"/><item><title>How to configure iptables for openvpn</title><link>https://skorotkiewicz.github.io/techlog/how-to-configure-iptables-for-openvpn/</link><pubDate>Fri, 01 Jan 2016 18:10:58 +0200</pubDate><guid>https://skorotkiewicz.github.io/techlog/how-to-configure-iptables-for-openvpn/</guid><description>If you have installed the openvpn server and iptable is blocking the service by default then use these configurations for openvpn to function properly. First let&amp;rsquo;s allow the tcp connection on the openvpn port. If you are using udp or another port number then change this line accordingly.
iptables -A INPUT -i eth0 -m state --state NEW -p udp --dport 1194 -j ACCEPT
Allow TUN interface connections to OpenVPN server</description></item><item><title>Saving Iptables Firewall Rules Permanent</title><link>https://skorotkiewicz.github.io/techlog/saving-iptables-firewall-rules-permanent/</link><pubDate>Fri, 01 Jan 2016 18:10:58 +0200</pubDate><guid>https://skorotkiewicz.github.io/techlog/saving-iptables-firewall-rules-permanent/</guid><description>run as root
sudo -s
Save current firewall rules to file
iptables-save &amp;gt; /etc/firewall.conf
INCLUDE ON BOOT
echo '#!/bin/sh' &amp;gt; /etc/network/if-up.d/iptables
echo &amp;quot;iptables-restore &amp;lt; /etc/firewall.conf&amp;quot; &amp;gt;&amp;gt; /etc/network/if-up.d/iptables
chmod +x /etc/network/if-up.d/iptables
SAVE ON SHUTDOWN/REBOOT
echo '#!/bin/sh' &amp;gt; /etc/network/if-down.d/iptables
echo &amp;quot;iptables-save &amp;gt; /etc/firewall.conf&amp;quot; &amp;gt;&amp;gt; /etc/network/if-down.d/iptables
chmod +x /etc/network/if-down.d/iptables
is working for me
if you what to save your iptables rules after an change to iptables just run below.. but it will run the same command on reboot or shutdown.</description></item><item><title>StopForumSpam.com -> iptables</title><link>https://skorotkiewicz.github.io/techlog/stopforumspam.com-iptables/</link><pubDate>Thu, 01 Jan 2015 18:10:58 +0200</pubDate><guid>https://skorotkiewicz.github.io/techlog/stopforumspam.com-iptables/</guid><description>Start with the dependencies: apt-get install zip unzip ipset
Then add this to your existing iptables firewall script: ipset create sfs_block hash:net
iptables -I FORWARD -p tcp --dport 80:443 -m set --match-set sfs_block src -j DROP
Then a script that updates the ipset: ipset destroy tempset
ipset create tempset hash:net
cd /tmp
wget -N http://www.stopforumspam.com/downloads/listed_ip_7.zip
unzip listed_ip_7.zip
sed 's:^:add tempset :' listed_ip_7.txt &amp;gt; listed_ip_7_importfile.txt
ipset restore &amp;lt; listed_ip_7_importfile.txt
rm listed_ip_7_importfile.txt
ipset swap tempset sfs_block</description></item><item><title>iptables simple ban ip rules</title><link>https://skorotkiewicz.github.io/techlog/iptables-simple-ban-ip-rules/</link><pubDate>Thu, 18 Oct 2012 07:14:03 +0200</pubDate><guid>https://skorotkiewicz.github.io/techlog/iptables-simple-ban-ip-rules/</guid><description>Ban an IP address (IP address cannot be entered on the server)
# iptables -A INPUT -s 1.2.3.4 -j DROP Ban an IP address (cannot be accessed from the server on the IP)
# iptables -A OUTPUT -s 1.2.3.4 -j DROP Delete Rule by Chain and Number
# iptables -L --line-numbers # iptables -D INPUT 3 Flush a Single Chain
Delete all of the rules in the INPUT chain, run this command</description></item><item><title>Connection Limit Linux</title><link>https://skorotkiewicz.github.io/techlog/connection-limit-linux/</link><pubDate>Sun, 16 Sep 2012 10:06:30 +0000</pubDate><guid>https://skorotkiewicz.github.io/techlog/connection-limit-linux/</guid><description>iptables -A INPUT -p tcp --syn --dport 80 -m connlimit --connlimit-above 10 -j REJECT --reject-with tcp-reset</description></item><item><title>Linux commands to help me work</title><link>https://skorotkiewicz.github.io/techlog/linux-commands-to-help-me-work/</link><pubDate>Sun, 16 Sep 2012 09:57:49 +0000</pubDate><guid>https://skorotkiewicz.github.io/techlog/linux-commands-to-help-me-work/</guid><description>Search for files and directories given text
grep -i -n -r 'Search string' /var/www/path/ Shows how many times is the search text in the text and returns the result in numbers.
cat access.log|grep 'Search string' | wc -l Remove all .gz from /var/log/
find /var/log/ -name &amp;quot;*.gz&amp;quot; -type f -delete Find and replace text in all files in a directory
find ./ -type f -exec sed -i 's/string1/string2/g' {} \; find /var/log/ -type f -exec sed -i 's/string1/string2/g' {} \; Unpack tar files</description></item></channel></rss>
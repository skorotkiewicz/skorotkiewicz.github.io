<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>openwrt on Sebastian Korotkiewicz - Tech{{log}}</title><link>http://localhost:1313/tags/openwrt/</link><description>Recent content in openwrt on Sebastian Korotkiewicz - Tech{{log}}</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 02 Jun 2018 20:12:51 +0200</lastBuildDate><atom:link href="http://localhost:1313/tags/openwrt/index.xml" rel="self" type="application/rss+xml"/><item><title>Homeautomation - detect presence of Wifi devices</title><link>http://localhost:1313/techlog/homeautomation-detect-presence-of-wifi-devices/</link><pubDate>Sat, 02 Jun 2018 20:12:51 +0200</pubDate><guid>http://localhost:1313/techlog/homeautomation-detect-presence-of-wifi-devices/</guid><description>A simple shell script to detect presence of Wifi devices (smartphones, tablets, Amazon Dash Buttons, ..) and post the results via MQTT. This information can be processed in Homeautomation Systems to turn down the heating when everyone left the appartment.
Install the MQTT client on your Router Install the packages withÂ opkg opkg install mosquitto-client opkg install coreutils-nohup or with luci.
Copy over the script Use SCP to copy the presence_report script to /usr/bin/presence_report on the target device.</description></item><item><title>LEDE /OpenWRT on USB Stick</title><link>http://localhost:1313/techlog/lede-/openwrt-on-usb-stick/</link><pubDate>Sat, 24 Mar 2018 01:23:49 +0200</pubDate><guid>http://localhost:1313/techlog/lede-/openwrt-on-usb-stick/</guid><description>Prepare your USB Stick: mkfs.ext4 /dev/sda1
Install pacages on your router
opkg update; opkg install block-mount kmod-usb-core kmod-usb-ohci kmod-usb-storage kmod-usb2 kmod-scsi-core kmod-scsi-generic kmod-fs-ext4 libblkid Plug your USB Stick into your router
mount /dev/sda1 /mnt tar -C /overlay -cvf - . | tar -C /mnt -xf - umount /mnt Edit fstab
block detect &amp;gt; /etc/config/fstab vim /etc/config/fstab Config:
root@LEDE:~# cat /etc/config/fstab config 'global' option anon_swap '0' option anon_mount '0' option auto_swap '1' option auto_mount '1' option delay_root '5' option check_fs '0' config 'mount' option target '/overlay' option uuid '&amp;lt;uuid&amp;gt;' option enabled '1' option fstype 'ext4' Set the target to /overlay, and change the option enabled line from 0 to 1.</description></item></channel></rss>